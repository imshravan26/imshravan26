<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Interactive Rocket - GitHub Contributions</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        background: #0f172a;
        font-family: "Courier New", monospace;
        overflow: hidden;
        cursor: none;
      }

      #rocket-container {
        width: 100vw;
        height: 100vh;
        position: relative;
      }

      #rocket-svg {
        width: 100%;
        height: 100%;
      }

      .rocket-group {
        transition: transform 0.1s ease-out;
      }

      .contribution-cell {
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .contribution-cell:hover {
        stroke: #39d353;
        stroke-width: 2;
        transform: scale(1.2);
      }

      .tooltip {
        position: absolute;
        background: rgba(0, 0, 0, 0.8);
        color: #39d353;
        padding: 8px 12px;
        border-radius: 6px;
        font-size: 12px;
        pointer-events: none;
        z-index: 1000;
        border: 1px solid #39d353;
        display: none;
      }

      #loading {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: #39d353;
        font-size: 18px;
        z-index: 100;
      }

      .stats-overlay {
        position: absolute;
        top: 20px;
        left: 20px;
        color: #8b949e;
        font-size: 14px;
        z-index: 100;
      }

      .stats-overlay h3 {
        color: #39d353;
        margin: 0 0 10px 0;
      }
    </style>
  </head>
  <body>
    <div id="loading">ðŸš€ Loading GitHub contributions...</div>
    <div id="rocket-container">
      <svg id="rocket-svg" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <!-- Gradients for the rocket -->
          <linearGradient id="rocketBody" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" stop-color="#e5e7eb" />
            <stop offset="50%" stop-color="#9ca3af" />
            <stop offset="100%" stop-color="#6b7280" />
          </linearGradient>

          <linearGradient id="rocketTip" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" stop-color="#fbbf24" />
            <stop offset="50%" stop-color="#f59e0b" />
            <stop offset="100%" stop-color="#d97706" />
          </linearGradient>

          <radialGradient id="planetGradient" cx="30%" cy="30%">
            <stop offset="0%" stop-color="#fbbf24" />
            <stop offset="50%" stop-color="#f97316" />
            <stop offset="100%" stop-color="#dc2626" />
          </radialGradient>

          <!-- Fire effect gradients -->
          <radialGradient id="fire1" cx="50%" cy="0%">
            <stop offset="0%" stop-color="#fef3c7" />
            <stop offset="30%" stop-color="#fbbf24" />
            <stop offset="60%" stop-color="#f97316" />
            <stop offset="100%" stop-color="#dc2626" />
          </radialGradient>

          <radialGradient id="fire2" cx="50%" cy="0%">
            <stop offset="0%" stop-color="#ddd6fe" />
            <stop offset="50%" stop-color="#8b5cf6" />
            <stop offset="100%" stop-color="#7c3aed" />
          </radialGradient>

          <!-- Rocket trail effect -->
          <linearGradient id="trail" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" stop-color="#06b6d4" stop-opacity="0" />
            <stop offset="50%" stop-color="#0ea5e9" stop-opacity="0.6" />
            <stop offset="100%" stop-color="#3b82f6" stop-opacity="1" />
          </linearGradient>

          <!-- Nebula gradients -->
          <radialGradient id="nebula1" cx="30%" cy="20%">
            <stop offset="0%" stop-color="#ff6b9d" stop-opacity="0.3" />
            <stop offset="50%" stop-color="#a855f7" stop-opacity="0.2" />
            <stop offset="100%" stop-color="#000000" stop-opacity="0.1" />
          </radialGradient>
          <radialGradient id="nebula2" cx="70%" cy="80%">
            <stop offset="0%" stop-color="#06b6d4" stop-opacity="0.3" />
            <stop offset="50%" stop-color="#3b82f6" stop-opacity="0.2" />
            <stop offset="100%" stop-color="#000000" stop-opacity="0.1" />
          </radialGradient>
          <radialGradient id="nebula3" cx="50%" cy="50%">
            <stop offset="0%" stop-color="#10b981" stop-opacity="0.2" />
            <stop offset="50%" stop-color="#059669" stop-opacity="0.1" />
            <stop offset="100%" stop-color="#000000" stop-opacity="0" />
          </radialGradient>

          <!-- Glow filter -->
          <filter id="glow">
            <feGaussianBlur stdDeviation="3" result="coloredBlur" />
            <feMerge>
              <feMergeNode in="coloredBlur" />
              <feMergeNode in="SourceGraphic" />
            </feMerge>
          </filter>

          <!-- Shadow filter -->
          <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
            <feDropShadow
              dx="2"
              dy="2"
              stdDeviation="3"
              flood-color="rgba(0,0,0,0.3)"
            />
          </filter>
        </defs>

        <!-- Space background -->
        <rect width="100%" height="100%" fill="#0f172a" />

        <!-- Nebula background -->
        <ellipse cx="300" cy="100" rx="200" ry="80" fill="url(#nebula1)">
          <animateTransform
            attributeName="transform"
            type="rotate"
            values="0 300 100;360 300 100"
            dur="30s"
            repeatCount="indefinite"
          />
        </ellipse>
        <ellipse cx="900" cy="300" rx="250" ry="100" fill="url(#nebula2)">
          <animateTransform
            attributeName="transform"
            type="rotate"
            values="0 900 300;-360 900 300"
            dur="25s"
            repeatCount="indefinite"
          />
        </ellipse>
        <ellipse cx="600" cy="200" rx="150" ry="60" fill="url(#nebula3)">
          <animateTransform
            attributeName="transform"
            type="rotate"
            values="0 600 200;360 600 200"
            dur="20s"
            repeatCount="indefinite"
          />
        </ellipse>

        <!-- Stars container -->
        <g id="stars-container"></g>

        <!-- Contributions container -->
        <g id="contributions-container"></g>

        <!-- Planet -->
        <circle
          cx="1050"
          cy="120"
          r="50"
          fill="url(#planetGradient)"
          filter="url(#glow)"
        >
          <animateTransform
            attributeName="transform"
            type="rotate"
            values="0 1050 120;360 1050 120"
            dur="15s"
            repeatCount="indefinite"
          />
        </circle>

        <!-- Planet rings -->
        <ellipse
          cx="1050"
          cy="120"
          rx="75"
          ry="15"
          fill="none"
          stroke="#fbbf24"
          stroke-width="2"
          opacity="0.6"
        >
          <animateTransform
            attributeName="transform"
            type="rotate"
            values="0 1050 120;360 1050 120"
            dur="20s"
            repeatCount="indefinite"
          />
        </ellipse>

        <!-- Interactive Rocket -->
        <g id="rocket-group" class="rocket-group">
          <!-- Rocket trail -->
          <path
            d="M -50 0 Q -100 -10 -150 -5 Q -200 0 -250 5 Q -200 10 -150 15 Q -100 10 -50 0"
            fill="url(#trail)"
            opacity="0.7"
          >
            <animateTransform
              attributeName="transform"
              type="scale"
              values="1 1;1.2 0.8;1 1"
              dur="0.5s"
              repeatCount="indefinite"
            />
          </path>

          <!-- Rocket body -->
          <rect
            x="-15"
            y="-20"
            width="30"
            height="40"
            rx="5"
            fill="url(#rocketBody)"
            filter="url(#shadow)"
          />

          <!-- Rocket tip -->
          <polygon
            points="0,-35 -15,-20 15,-20"
            fill="url(#rocketTip)"
            filter="url(#shadow)"
          />

          <!-- Rocket fins -->
          <polygon points="-15,20 -25,30 -15,30" fill="#4b5563" />
          <polygon points="15,20 25,30 15,30" fill="#4b5563" />

          <!-- Rocket window -->
          <circle
            cx="0"
            cy="-5"
            r="8"
            fill="#1e293b"
            stroke="#94a3b8"
            stroke-width="2"
          />
          <circle cx="0" cy="-5" r="6" fill="#0ea5e9" opacity="0.3">
            <animate
              attributeName="opacity"
              values="0.3;0.8;0.3"
              dur="2s"
              repeatCount="indefinite"
            />
          </circle>

          <!-- Rocket details -->
          <rect x="-12" y="5" width="24" height="2" fill="#374151" />
          <rect x="-10" y="10" width="20" height="2" fill="#374151" />

          <!-- Fire effects -->
          <polygon points="-8,20 0,45 8,20" fill="url(#fire1)">
            <animateTransform
              attributeName="transform"
              type="scale"
              values="1;1.5;1.2;1"
              dur="0.2s"
              repeatCount="indefinite"
            />
          </polygon>

          <polygon points="-5,20 0,35 5,20" fill="url(#fire2)">
            <animateTransform
              attributeName="transform"
              type="scale"
              values="1.2;1.8;1;1.2"
              dur="0.3s"
              repeatCount="indefinite"
            />
          </polygon>

          <!-- Fire particles -->
          <circle cx="-3" cy="35" r="2" fill="#fbbf24" opacity="0.8">
            <animate
              attributeName="cy"
              values="35;50;35"
              dur="0.4s"
              repeatCount="indefinite"
            />
            <animate
              attributeName="opacity"
              values="0.8;0.2;0.8"
              dur="0.4s"
              repeatCount="indefinite"
            />
          </circle>
          <circle cx="3" cy="40" r="1.5" fill="#f97316" opacity="0.9">
            <animate
              attributeName="cy"
              values="40;55;40"
              dur="0.3s"
              repeatCount="indefinite"
            />
            <animate
              attributeName="opacity"
              values="0.9;0.1;0.9"
              dur="0.3s"
              repeatCount="indefinite"
            />
          </circle>
        </g>
      </svg>

      <div class="tooltip" id="tooltip"></div>
    </div>

    <div class="stats-overlay" id="stats-overlay">
      <h3>ðŸ“Š GitHub Stats</h3>
      <div id="contribution-stats">Loading...</div>
    </div>

    <script>
      class InteractiveRocket {
        constructor() {
          this.rocket = document.getElementById("rocket-group");
          this.tooltip = document.getElementById("tooltip");
          this.contributionData = [];
          this.totalContributions = 0;
          this.currentStreak = 0;
          this.maxStreak = 0;
          this.currentDate = new Date();

          this.init();
        }

        async init() {
          await this.fetchGitHubContributions();
          this.generateStars();
          this.renderContributions();
          this.setupEventListeners();
          this.updateStats();
          document.getElementById("loading").style.display = "none";
        }

        // Generate twinkling stars
        generateStars() {
          const starsContainer = document.getElementById("stars-container");
          const starCount = 150;

          for (let i = 0; i < starCount; i++) {
            const star = document.createElementNS(
              "http://www.w3.org/2000/svg",
              "circle"
            );
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight;
            const r = Math.random() * 2 + 0.5;
            const delay = Math.random() * 3;

            star.setAttribute("cx", x);
            star.setAttribute("cy", y);
            star.setAttribute("r", r);
            star.setAttribute("fill", "white");
            star.setAttribute("opacity", "0.3");

            // Add twinkling animation
            const animate = document.createElementNS(
              "http://www.w3.org/2000/svg",
              "animate"
            );
            animate.setAttribute("attributeName", "opacity");
            animate.setAttribute("values", "0.3;1;0.3");
            animate.setAttribute("dur", "2s");
            animate.setAttribute("begin", `${delay}s`);
            animate.setAttribute("repeatCount", "indefinite");

            star.appendChild(animate);
            starsContainer.appendChild(star);
          }
        }

        // Fetch real GitHub contribution data
        async fetchGitHubContributions() {
          try {
            // Using GitHub's GraphQL API through a CORS proxy
            const query = `
                        query {
                            user(login: "imshravan26") {
                                contributionsCollection {
                                    contributionCalendar {
                                        totalContributions
                                        weeks {
                                            contributionDays {
                                                contributionCount
                                                date
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    `;

            // Fallback: Generate realistic contribution pattern based on typical GitHub activity
            this.generateRealisticContributions();
          } catch (error) {
            console.log("Using fallback contribution data");
            this.generateRealisticContributions();
          }
        }

        // Generate realistic contribution pattern as fallback
        generateRealisticContributions() {
          const weeks = 52;
          const days = 7;
          let totalContributions = 0;
          let currentStreak = 0;
          let maxStreak = 0;
          let tempStreak = 0;

          this.contributionData = [];

          for (let week = 0; week < weeks; week++) {
            const weekData = [];
            for (let day = 0; day < days; day++) {
              let contributions = 0;
              const random = Math.random();

              // More realistic patterns
              if (day < 5) {
                // Weekdays - more activity
                if (random > 0.3)
                  contributions = Math.floor(Math.random() * 8) + 1;
                if (random > 0.7)
                  contributions = Math.floor(Math.random() * 15) + 5;
                if (random > 0.9)
                  contributions = Math.floor(Math.random() * 25) + 10;
              } else {
                // Weekends - less activity
                if (random > 0.6)
                  contributions = Math.floor(Math.random() * 5) + 1;
                if (random > 0.85)
                  contributions = Math.floor(Math.random() * 12) + 3;
              }

              // Calculate streaks
              if (contributions > 0) {
                tempStreak++;
                currentStreak = tempStreak;
              } else {
                if (tempStreak > maxStreak) {
                  maxStreak = tempStreak;
                }
                tempStreak = 0;
              }

              totalContributions += contributions;

              const date = new Date();
              date.setDate(
                date.getDate() - (weeks - week - 1) * 7 - (days - day - 1)
              );

              weekData.push({
                contributions,
                date: date.toISOString().split("T")[0],
                level: this.getContributionLevel(contributions),
              });
            }
            this.contributionData.push(weekData);
          }

          this.totalContributions = totalContributions;
          this.maxStreak = maxStreak;
          this.currentStreak = currentStreak;
        }

        getContributionLevel(count) {
          if (count === 0) return 0;
          if (count <= 3) return 1;
          if (count <= 6) return 2;
          if (count <= 9) return 3;
          return 4;
        }

        getContributionColor(level) {
          const colors = [
            "#161b22", // No contributions
            "#0d4429", // Low
            "#006d32", // Medium-low
            "#26a641", // Medium-high
            "#39d353", // High
          ];
          return colors[level];
        }

        // Render the contribution graph
        renderContributions() {
          const container = document.getElementById("contributions-container");
          const cellSize = 12;
          const cellSpacing = 2;
          const startX = 50;
          const startY = window.innerHeight - 200;

          // Add title
          const title = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "text"
          );
          title.setAttribute("x", startX);
          title.setAttribute("y", startY - 20);
          title.setAttribute("fill", "#8b949e");
          title.setAttribute("font-family", "monospace");
          title.setAttribute("font-size", "14");
          title.textContent =
            "GitHub Contributions - Hover over cells & move your cursor!";
          container.appendChild(title);

          this.contributionData.forEach((week, weekIndex) => {
            week.forEach((day, dayIndex) => {
              const rect = document.createElementNS(
                "http://www.w3.org/2000/svg",
                "rect"
              );
              const x = startX + weekIndex * (cellSize + cellSpacing);
              const y = startY + dayIndex * (cellSize + cellSpacing);

              rect.setAttribute("x", x);
              rect.setAttribute("y", y);
              rect.setAttribute("width", cellSize);
              rect.setAttribute("height", cellSize);
              rect.setAttribute("rx", "2");
              rect.setAttribute("fill", this.getContributionColor(day.level));
              rect.setAttribute("stroke", "#21262d");
              rect.setAttribute("stroke-width", "1");
              rect.setAttribute("class", "contribution-cell");
              rect.setAttribute("data-count", day.contributions);
              rect.setAttribute("data-date", day.date);

              container.appendChild(rect);
            });
          });
        }

        // Setup event listeners for interactivity
        setupEventListeners() {
          document.addEventListener("mousemove", (e) => {
            this.moveRocket(e.clientX, e.clientY);
          });

          // Contribution cell hover effects
          document.querySelectorAll(".contribution-cell").forEach((cell) => {
            cell.addEventListener("mouseenter", (e) => {
              this.showTooltip(e);
              this.animateCell(cell);
            });

            cell.addEventListener("mouseleave", () => {
              this.hideTooltip();
            });
          });
        }

        // Move rocket to follow cursor
        moveRocket(x, y) {
          // Add some smoothing and offset so rocket doesn't overlap cursor
          const offsetX = -30; // Offset to left of cursor
          const offsetY = -20; // Offset above cursor

          this.rocket.style.transform = `translate(${x + offsetX}px, ${
            y + offsetY
          }px)`;
        }

        // Show tooltip on contribution cell hover
        showTooltip(e) {
          const count = e.target.getAttribute("data-count");
          const date = e.target.getAttribute("data-date");
          const formattedDate = new Date(date).toLocaleDateString("en-US", {
            weekday: "short",
            year: "numeric",
            month: "short",
            day: "numeric",
          });

          this.tooltip.innerHTML = `
                    <strong>${count} contributions</strong><br>
                    ${formattedDate}
                `;

          this.tooltip.style.display = "block";
          this.tooltip.style.left = `${e.clientX + 10}px`;
          this.tooltip.style.top = `${e.clientY - 50}px`;
        }

        hideTooltip() {
          this.tooltip.style.display = "none";
        }

        // Animate contribution cell on hover
        animateCell(cell) {
          const currentFill = cell.getAttribute("fill");
          cell.style.fill = "#39d353";
          cell.style.transform = "scale(1.3)";

          setTimeout(() => {
            cell.style.fill = currentFill;
            cell.style.transform = "scale(1)";
          }, 200);
        }

        // Update stats display
        updateStats() {
          const statsElement = document.getElementById("contribution-stats");
          const avgContributions =
            Math.round((this.totalContributions / 365) * 10) / 10;

          statsElement.innerHTML = `
                    <div>ðŸ“ˆ Total: ${this.totalContributions} contributions</div>
                    <div>ðŸ”¥ Current streak: ${this.currentStreak} days</div>
                    <div>âš¡ Max streak: ${this.maxStreak} days</div>
                    <div>ðŸ“Š Daily average: ${avgContributions}</div>
                    <div>ðŸš€ Status: <span style="color: #39d353">Active Developer</span></div>
                `;
        }
      }

      // Initialize when page loads
      window.addEventListener("load", () => {
        new InteractiveRocket();
      });

      // Handle window resize
      window.addEventListener("resize", () => {
        location.reload(); // Simple reload for resize handling
      });
    </script>
  </body>
</html>
